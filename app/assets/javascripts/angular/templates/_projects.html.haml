.panel.panel-primary(ng-repeat="project in projects | orderBy: 'id' : reverse")

  .panel-heading

    .title(ng-hide="input")
      %span.glyphicon.glyphicon-list-alt.list(aria-hidden="true")
      %span.panel-title &nbsp; {{project.title | limitTo: 32}}

      .pull-right.edit-project
        %span.glyphicon.glyphicon-pencil(aria-hidden="true" style="cursor: pointer; font-size: 15px" ng-click="input=true")
        %span.glyphicon.glyphicon-trash(aria-hidden="true" style="cursor: pointer; font-size: 15px" ng-click="deleteProject(project)")

    %form(ng-show="input")
      .input-group
        %span.input-group-addon
          %span.glyphicon.glyphicon-list-alt(aria-hidden="true")
        %input.form-control(ng-model="project.title")
        %span.input-group-btn
          %button.btn.btn-default(ng-click="input=false; updateProject(project)")
            %span.glyphicon.glyphicon-ok-circle
          %a.btn.btn-default(ng-click="input=false")
            %span.glyphicon.glyphicon-remove-circle

  .panel-footer
    %form.form-inline(ng-controller="tasksCtrl" ng-submit="createTask(project)")
      .input-group
        %span.input-group-addon
          %span.glyphicon.glyphicon-plus.task-plus(aria-hidden="true")
        .form-group.task-title-input
          %input.form-control(ng-model="task_title" placeholder="Start typing here to create task..." style="width: 433px")
        .form-group.deadline
          %input.form-control(type="date" ng-model="deadline" style="width: 160px")
        %span.input-group-btn
          %button.btn.btn-success
            Add Task

  %table.table(ng-controller="tasksCtrl" ng-include = "'angular/templates/_tasks.html'")
