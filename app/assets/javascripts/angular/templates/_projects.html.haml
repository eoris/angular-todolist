.panel.panel-primary(ng-repeat="project in projects | orderBy: 'id' : reverse")

  .panel-heading

    .title(ng-hide="input")
      %span.glyphicon.glyphicon-list-alt.list(aria-hidden="true")
      %span.panel-title &nbsp; {{project.title | limitTo: 32}}

      .pull-right.edit-project
        %span.glyphicon.glyphicon-pencil.project-edit(aria-hidden="true" style="font-size: 15px" ng-click="input=true")
        %span.glyphicon.glyphicon-trash.project-delete(aria-hidden="true" style="font-size: 15px" ng-click="deleteProject(project)")

    %form(ng-show="input" novalidate ng-submit="updateProject(project)" name="updateProjectForm")
      .input-group
        %span.input-group-addon
          %span.glyphicon.glyphicon-list-alt(aria-hidden="true")
        %input.form-control(type="text" ng-model="project.title" ng-required="true" ng-minlength="1")
        %span.input-group-btn
          %button.btn.btn-default(type="submit" ng-click="input=false" ng-disabled="updateProjectForm.$invalid")
            %span.glyphicon.glyphicon-ok-circle
          %a.btn.btn-default(ng-click="input=false")
            %span.glyphicon.glyphicon-remove-circle

  .panel-footer
    %form(ng-controller="tasksCtrl" ng-submit="createTask(project)")
      .input-group
        %span.input-group-addon
          %span.glyphicon.glyphicon-plus.task-plus(aria-hidden="true")
        .form-group
          %input.form-control(ng-model="task_title" placeholder="Start typing here to create task...")
        %span.input-group-btn
          %button.btn.btn-success
            Add Task

  %table.table(ng-controller="tasksCtrl" ng-include = "'angular/templates/_tasks.html'")
