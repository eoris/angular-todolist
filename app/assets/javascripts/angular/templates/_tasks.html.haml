%tbody(ui-sortable="sortableOptions" ng-model="project.tasks")
  %tr.task-row(ng-repeat="task in project.tasks")
    %td.task-checkbox
      %label
        %input.text-center(type="checkbox" ng-checked="task.done" ng-click="switchTaskDone(task)")
    %td.task-title(ng-if="!task.editTask" class="task-done-{{task.done}}") {{task.title}}
    %td.edit-task-title(ng-if="task.editTask")
      %form(ng-submit="updateTask(task); switchEditTask(task)" novalidate name="updateTaskForm")
        .input-group
          %input.input-sm.form-control(type="text" ng-model="taskTitleUpdate.title" ng-required="true" ng-minlength="1")
          %span.input-group-btn
            %button.btn.btn-default.btn-sm(type="submit" ng-disabled="updateTaskForm.$invalid")
              %span.glyphicon.glyphicon-ok-circle
            %a.btn.btn-default.btn-sm(ng-click="switchEditTask(task)")
              %span.glyphicon.glyphicon-remove-circle
    %td.task-date
      %span.label(ng-class="task.done ? 'label-success' : 'label-warning'") {{task.deadline | date:'dd-MM-yyyy'}}
    %td.task-edit-panel
      .edit-task.dropdown.text-center
        %span.glyphicon.glyphicon-calendar.task-edit-date.dropdown-toggle(aria-hidden="true" data-toggle="dropdown")
        %ul.dropdown-menu{:role => "menu"}
          %datetimepicker{ "data-on-set-time" => "setDeadline(task)", "data-datetimepicker-config" => "{ dropdownSelector: 'task-edit-date', minView: 'day', modelType: 'YYYY-MM-DD' }", "data-ng-model" => "task.deadline"}
        %span.glyphicon.glyphicon-pencil.task-edit(aria-hidden="true" ng-click="switchEditTask(task)")
        %span.glyphicon.glyphicon-trash.task-delete(aria-hidden="true" ng-click="deleteTask(task)")
